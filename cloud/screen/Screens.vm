## Resolver for Mutation.createScreen
#set($objectKey=${context.arguments.input.objectKey})
#set($createdDate=${util.time.nowEpochMilliSeconds()})
#set($posterId=${context.arguments.input.posterId})
#set($type=${context.arguments.input.type})
#set($userCount='0')
#set($status='init')
{
    "version": "2018-05-29",
    "statements": [
        "insert into contents.screens values ('$objectKey', '$createdDate', '$posterId', '$type', '$userCount', '$status')",
        "select * from contents.screens where objectKey = '$objectKey'"
    ]
}

$utils.toJson($utils.rds.toJsonObject($context.result)[1][0])

## Resolver for Mutation.changePosterId
{
    "version": "2018-05-29",
    "statements": [
        "update contents.screens set posterId='Anonymous' where posterId='$context.arguments.input.posterId'",
        "select * from contents.screens where posterId = '$context.arguments.input.posterId' limit 1"
    ]
}

$utils.toJson($utils.rds.toJsonObject($context.result)[1])

## Resolver for Mutation.getObjectKey
{
    "version": "2018-05-29",
    "statements": [
        "select * from contents.screens where objectKey = '$objectKey'"
    ]
}

$utils.toJson($utils.rds.toJsonObject($context.result)[0][0])